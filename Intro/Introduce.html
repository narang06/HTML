<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ìê¸°ì†Œê°œ - ì´ë¯¼í˜•</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <button id="darkModeToggle">ğŸŒ™ ë‹¤í¬ ëª¨ë“œ</button>

    <header class="profile-header">
        <div class="image-container">
            <img src="../Media/cat.jpg" id="main-profile-image" class="profile-img">
            <div class="hover-image">
                <img src="../Media/java.jpg" class="sub-profile-img" onclick="fnChange(this)">
                <img src="../Media/java2.jpg" class="sub-profile-img" onclick="fnChange(this)">
                <img src="../Media/java3.jpg" class="sub-profile-img" onclick="fnChange(this)">
            </div>
        </div>
        <h1>ì´ë¯¼í˜•</h1>
        <p class="currentTime">í˜„ì¬ ì‹œê°„:</p>
    </header>

    <div class="main-container">
        <div class="contents-change">
            <main class="main-content">
                <section class="about-me">
                    <h2>ìê¸°ì†Œê°œ</h2>
                    <p>ì•ˆë…•í•˜ì„¸ìš”, ì´ë¯¼í˜•ì…ë‹ˆë‹¤. ì›¹ ê°œë°œì— ê´€ì‹¬ì´ ë§ìœ¼ë©° HTML, CSS, JavaScriptë¥¼ í™œìš©í•œ ë‹¤ì–‘í•œ í”„ë¡œì íŠ¸ë¥¼ ë°°ìš°ê³  ìˆìŠµë‹ˆë‹¤.</p>
                </section>

                <section class="skills">
                    <h2>ë³´ìœ  ê¸°ìˆ </h2>
                    <ul>
                        <li><strong>í”„ë¡œê·¸ë˜ë° ì–¸ì–´:</strong> HTML, CSS, JavaScript</li>
                        <li><strong>í”„ë ˆì„ì›Œí¬:</strong></li>
                        <li><strong>ë°ì´í„°ë² ì´ìŠ¤:</strong> Oracle</li>
                    </ul>
                </section>

                <section class="contact">
                    <h2>ì—°ë½ì²˜</h2>
                    <p>
                        ì´ë©”ì¼: <a href="mailto:sinso5281532@gmail.com">sinso5281532@gmail.com</a><br>
                        GitHub: <a href="https://github.com/narang06">github.com/narang06</a>
                    </p>
                </section>
            </main>

            <aside class="side-content1">
                <h3>HTML ê°¤ëŸ¬ë¦¬</h3>
                <!-- íŠ¸ë¦¬ í´ë” êµ¬ì¡° -->
                <div class="gallery" id="gallery"></div>

                <!-- ë¯¸ë¦¬ë³´ê¸° / ì½”ë“œë³´ê¸° íƒ­ -->
                <div id="output" style="margin-top: 1em;">
                    <div class="tabs">
                        <button class="tab-btn active" onclick="showTab('preview')">ğŸ‘ ë¯¸ë¦¬ë³´ê¸°</button>
                        <button class="tab-btn" onclick="showTab('code')">ğŸ’» ì½”ë“œë³´ê¸°</button>
                    </div>
                    <div id="preview" class="tab-content active">
                        <iframe id="preview-frame" style="width:100%; height:400px; border:1px solid #ccc;"></iframe>
                    </div>
                    <pre id="code" class="tab-content" style="background:#111; color:#eee; padding:1em; max-height:400px; overflow:auto;"></pre>
                </div>
            </aside>        

            <aside class="side-content2">
                <h3>ê¸°ìˆ  ìŠ¤íƒ</h3>
                <p>ì¶”í›„ ê¸°ëŠ¥ êµ¬í˜„ ì˜ˆì •</p>
            </aside>

            <aside class="side-content3">
                <h3>í™œë™ ë° ìˆ˜ìƒ ê²½ë ¥</h3>
                <p>ì¶”í›„ ê¸°ëŠ¥ êµ¬í˜„ ì˜ˆì •</p>
            </aside>
        </div>
    </div>

    <footer class="site-footer">
        <p>&copy; 2025 ì´ë¯¼í˜•. All rights reserved.</p>
    </footer>
</body>
</html>
<script>
    // ë©”ì¸ ì´ë¯¸ì§€ êµì²´
    function fnChange(clickedImg) {
        let mainImg = document.querySelector("#main-profile-image");
        let temp = mainImg.src;
        mainImg.src = clickedImg.src;
        clickedImg.src = temp;
    }

    // í˜„ì¬ ì‹œê°„ í‘œì‹œ
    setInterval(() => {
        let now = new Date();
        let time = now.getHours().toString().padStart(2,'0') + ':' +
            now.getMinutes().toString().padStart(2,'0') + ':' +
            now.getSeconds().toString().padStart(2,'0');
        document.querySelector('.currentTime').textContent = 'í˜„ì¬ ì‹œê°„: ' + time;
    }, 1000);

    // ì»¨í…ì¸  ë°”ê¹¥ í´ë¦­ ì‹œ í˜ì´ì§€ ì „í™˜
    let wrapper = document.querySelector('.contents-change');
    let totalPages = 4;
    let currentPage = 0;

    document.body.addEventListener('click', (e) => {
        if (e.target.closest('#darkModeToggle')) return;
        if (e.target.closest('.main-container') || e.target.closest('.profile-header') || e.target.closest('.site-footer')) return;

        let windowWidth = window.innerWidth;
        let clickX = e.clientX;

        if (clickX > windowWidth / 2) {
            currentPage = (currentPage + 1) % totalPages;
        } else {
            currentPage = (currentPage - 1 + totalPages) % totalPages;
        }
        wrapper.style.transform = `translateX(-${currentPage*25}%)`;
    });

    // ì„œë¸Œ ì´ë¯¸ì§€ í† ê¸€
    let mainImg = document.getElementById('main-profile-image');
    let hoverImages = document.querySelector('.hover-image');

    mainImg.addEventListener('click', (e) => {
        hoverImages.classList.toggle('show');
        e.stopPropagation();
    });

    document.body.addEventListener('click', (e) => {
        if (!e.target.closest('#main-profile-image') && !e.target.closest('.hover-image')) {
            hoverImages.classList.remove('show');
        }
    });

    // ë‹¤í¬ ëª¨ë“œ
    let toggleBtn = document.getElementById('darkModeToggle');
    toggleBtn.addEventListener('click', (e) => {
        document.body.classList.toggle('dark-mode');
        toggleBtn.textContent = document.body.classList.contains('dark-mode') ? "â˜€ï¸ ë¼ì´íŠ¸ ëª¨ë“œ" : "ğŸŒ™ ë‹¤í¬ ëª¨ë“œ";
        e.stopPropagation();
    });

    // === GitHub Repo ì—°ê²° ë¶€ë¶„ ===
    let repoOwner = "narang06";
    let repoName = "HTML";
    let branch = "main";

    async function fetchRepoContents(path = "") {
        let url = `https://api.github.com/repos/${repoOwner}/${repoName}/contents/${path}`;
        let res = await fetch(url);
        return await res.json();
    }

    async function renderFolder(path = "", container) {
        let items = await fetchRepoContents(path);
        let ul = document.createElement("ul");

        for (let item of items) {
            let li = document.createElement("li");

            if (item.type === "dir") {
                li.innerHTML = `ğŸ“‚ <span class="folder">${item.name}</span>`;
                li.querySelector(".folder").addEventListener("click", () => {
                    if (!li.querySelector("ul")) {
                        renderFolder(item.path, li);
                    } else {
                        li.querySelector("ul").remove();
                    }
                });
            } else if (item.type === "file" && /\.(html|css|js)$/.test(item.name)) {
                li.innerHTML = `ğŸ“„ ${item.name} 
                <button onclick="showPreview('${item.path}')">ğŸ‘</button>
                <button onclick="showCode('${item.path}')">ğŸ’»</button>`;
            }
            ul.appendChild(li);
        }
        container.appendChild(ul);
    }

    function showTab(tab) {
        document.querySelectorAll(".tab-btn").forEach(btn => btn.classList.remove("active"));
        document.querySelectorAll(".tab-content").forEach(div => div.classList.remove("active"));

        document.querySelector(`.tab-btn[onclick*="${tab}"]`).classList.add("active");
        document.getElementById(tab).classList.add("active");
    }

    function showPreview(filePath) {
        const url = `https://${repoOwner}.github.io/${repoName}/${filePath}`;
        document.getElementById("preview-frame").src = url;
        showTab("preview");
    }

    async function showCode(filePath) {
        const url = `https://raw.githubusercontent.com/${repoOwner}/${repoName}/${branch}/${filePath}`;
        const res = await fetch(url);
        const text = await res.text();
        document.getElementById("code").textContent = text;
        showTab("code");
    }

    // ì‹œì‘í•˜ìë§ˆì ì‹¤í–‰
    renderFolder("", document.getElementById("gallery"));   
</script>




